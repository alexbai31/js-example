<ng-include src="'/app/partials/default/includes/header.html'"></ng-include>

<main class="container">
    <aside class="left-sidebar menu-mobile">
        <form class="menu-mobile-search has-feedback left-control-feedback">
            <input type="text" placeholder="Search">
            <i class="icon icon-search form-control-feedback"></i>
        </form>
        <ng-include src="'/app/partials/default/includes/explore-nav.html'"></ng-include>
        <!-- /.list-group -->
        <nav class="nav-groups">
            <ng-include src="'/app/partials/default/includes/tools-nav.html'"></ng-include>
        </nav>
        <!-- /.nav-groups-->
        <div class="have-questions">
            <p class="have-questions-title">Have questions?</p>

            <p class="have-questions-content">Our experts are here to answer.</p>
            <button class="btn btn-primary"><i class="icon icon-pencil"></i> Ask a question</button>
        </div>
    </aside>
    <!-- /.sidebar -->
    <section class="layout-row">
        <div class="panel margin-bottom content-wrapper clearfix">
            <form class="form-inline pos-left padding-inline">
                <div class="form-group">
                    <input type="text" placeholder="Search for a topic..." class="form-control" ng-model="q">
                </div>
                <button class="btn btn-primary" type="button" ng-click="refreshTopics();">Find topic</button>
            </form>
            <div class="dropdown dropdown-line">
                <button class="btn btn-dropdown dropdown-toggle" type="button">
                    <i class="icon icon-eye"></i> <span>{{ currentTopicFilter }}</span>
                </button>
                <ul class="dropdown-menu dropdown-menu-block dropdown-menu-block-style">
                    <li><a tabindex="-1" href="#"
                           ng-click="setFilter({order_by: 'A'}); refreshTopics(); currentTopicFilter='By Topic'">By
                        Topic</a></li>
                    <li><a tabindex="-1" href="#"
                           ng-click="setFilter({order_by: 'F'}); refreshTopics(); currentTopicFilter='By Followers'">By
                        Followers</a></li>
                </ul>
                <!-- /.dropdown-menu.dropdown-menu-block.dropdown-menu-block-style -->
            </div>
            <!-- /.dropdown.dropdown-line -->
            <div class="dropdown dropdown-line">
                <button class="btn btn-dropdown dropdown-toggle" type="button">
                    <i class="icon icon-swap-v"></i> <span>{{ currentTopicOrder }}</span>
                </button>
                <ul class="dropdown-menu dropdown-menu-block dropdown-menu-block-style">
                    <li><a tabindex="-1" ng-click="setFilter({order_by: 'A'}); refreshTopics(); currentTopicOrder='A-Z'" href="#">A-Z</a></li>
                    <li><a tabindex="-1" ng-click="setFilter({order_by: 'Z'}); refreshTopics(); currentTopicOrder='Z-A'" href="#">Z-A</a></li>
                </ul>
                <!-- /.dropdown-menu.dropdown-menu-block.dropdown-menu-block-style -->
            </div>
            <!-- /.dropdown.dropdown-line -->
        </div>
        <!-- /.margin-bottom.content-wrapper -->
        <section class="panel panel-default">
            <header class="panel-heading">
                <h4 class="panel-title">Available topics</h4>
            </header>
            <ul class="list-group list-unstyled topics-list">
                <li class="list-group-item media" ng-repeat="topic in topics">
                    <div class="media-left">
                        <a href="/topic/{{ topic.id }}" class="container-img media-width-sm ">
                            <img src="{{ topic.image_thumb }}" alt="">
                        </a>
                    </div>
                    <div class="media-body">
                        <h4 class="media-heading media-heading-small"><a
                                href="/topic/{{ topic.id }}">{{ topic.name }}</a></h4>
                        <span class="by-text-style">{{ topic.num_followers }} followers. <a href="" class="by-text-link"
                                                                                            ng-if="topic.is_following"
                                                                                            ng-click="unfollowTopic(topic)">Unfollow?</a>
                        <a href="" class="by-text-link"
                           ng-if="!topic.is_following" ng-click="followTopic(topic);">Follow</a>
                        </span>
                    </div>
                </li>
            </ul>
        </section>
    </section>
    <!-- /.layout-row -->
</main>


<!-- /.container.clearfix -->
<ng-include src="'/app/partials/default/includes/footer.html'"></ng-include>
